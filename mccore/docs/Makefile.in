############################ -*- Mode: Makefile -*- ###########################
## Makefile.in
## Copyright © 2000-01 Laboratoire de Biologie Informatique et Théorique.
##                     Université de Montréal.
## Author           : Martin Larose
## Created On       : Tue Sep 19 18:53:22 2000
## Last Modified By : Martin Larose
## Last Modified On : Fri Sep  7 11:43:46 2001
## Update Count     : 6
## Status           : Ok.
###############################################################################
#
#  This file is part of mccore.
#  
#  mccore is free software; you can redistribute it and/or
#  modify it under the terms of the GNU Lesser General Public
#  License as published by the Free Software Foundation; either
#  version 2.1 of the License, or (at your option) any later version.
#  
#  mccore is distributed in the hope that it will be useful,
#  but WITHOUT ANY WARRANTY; without even the implied warranty of
#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
#  Lesser General Public License for more details.
#  
#  You should have received a copy of the GNU Lesser General Public
#  License along with mccore; if not, write to the Free Software
#  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA


PACKAGE = @PACKAGE@
VERSION = @VERSION@

srcdir = @srcdir@
VPATH = @srcdir@

prefix = @prefix@
exec_prefix = @exec_prefix@
datadir = @datadir@
includedir = @includedir@
libdir = @libdir@

INSTALL = @INSTALL@
INSTALL_DATA = @INSTALL_DATA@
INSTALL_PROGRAM = @INSTALL_PROGRAM@


.SUFFIXES:
.SUFFIXES: .tex

MANUAL = McCoreManual

DISTFILES = Makefile.in $(MANUAL).tex


all static:

doc: $(MANUAL).pdf $(MANUAL).html

$(MANUAL).dvi: $(MANUAL).tex
	@ latex $<
	@- makeindex $(MANUAL)
	@ latex $<

$(MANUAL).ps: $(MANUAL).dvi
	@ dvips -z -Pcm -o $@ $^

$(MANUAL).pdf: $(MANUAL).ps
	@ ps2pdf $^ $@

$(MANUAL).html: $(MANUAL).dvi
	@- ln -s $(srcdir)/$(MANUAL).tex 2> /dev/null
	@ latex2html -address "<a href=\"mailto:Webmaster <adbit@iro.umontreal.ca>\">Webmaster</a>" -info "" -no_navigation $(MANUAL).tex


install install-static: doc
	@ $(srcdir)/../mkinstalldirs $(datadir)/$(PACKAGE)/$(VERSION)/doc
	@ for file in $(MANUAL).ps $(MANUAL).pdf; do \
	   $(INSTALL_DATA) $$file $(datadir)/$(PACKAGE)/$(VERSION)/doc; \
	  done;

uninstall:
	@ for file in $(MANUAL).ps $(MANUAL).pdf; do \
	   rm -f $(datadir)/$(PACKAGE)/$(VERSION)/doc/$$file; \
	  done;


mostlyclean:
	@ rm -f *.aux *.dvi *.log *.toc *.ilg *.ind *.out body.tmp head.tmp

clean: mostlyclean
	@ rm $(MANUAL).pdf $(MANUAL).ps
	@ rm -fr $(MANUAL) docbook html texi

distclean: clean
	@ rm -f Makefile

topclean: distclean
	@ echo "The project is getting _top_ clean\!"

release:

dist:
	@ echo "Copying distribution files"
	@ for file in $(DISTFILES); do \
	   ln $(srcdir)/$$file ../$(PACKAGE)-$(VERSION)/docs 2> /dev/null \
	    || cp -p $(srcdir)/$$file ../$(PACKAGE)$(VERSION)/docs; \
	  done

Makefile: $(srcdir)/Makefile.in ../config.status
	@ cd .. && CONFIG_FILES=docs/$@ CONFIG_HEADERS= ./config.status

# Tell versions [3.59,3.63) of GNU make not to export all variables.
# Otherwise a system limit (for SysV at least) may be exceeded.
.NOEXPORT:
